task: convert_fastlabel_2d_semantic_to_t4_tlr
description:
  with_lidar: False
  visibility:
    full: "No occlusion of the object."
    most: "Object is occluded, but by less than 50%."
    partial: "The object is occluded by more than 50% (but not completely)."
    none: "The object is 90-100% occluded and no points/pixels are visible in the label."
  camera_index:
    CAM_FRONT_NARROW: 0
    CAM_FRONT_WIDE: 1
    CAM_FRONT_RIGHT: 2
    CAM_BACK_RIGHT: 3
    CAM_BACK_NARROW: 4
    CAM_BACK_WIDE: 5
    CAM_BACK_LEFT: 6
    CAM_FRONT_LEFT: 7
    CAM_TRAFFIC_LIGHT_NEAR: 8
    CAM_TRAFFIC_LIGHT_FAR: 9

conversion:
  # input_anno_base:
  #   One of:
  #   1) FastLabel bulb bbox JSONs (legacy format), or
  #   2) t4dataset root containing per-scene annotation tables:
  #      <scene_uuid>/annotation/object_ann.json + category.json + sample_data.json
  #   If using t4 annotation tables, bulbs and parent traffic_light boxes are extracted
  #   from object_ann/category/sample_data directly.
  input_anno_base: /media/jacoblambert/6c8aadd0-9332-4357-aea4-437b6aadef26/tlr/australia/
  # input_anno_base: /path/to/annotations_or_t4dataset_root
  # input_semantic_anno_base:
  #   FastLabel semantic camera annotations with traffic_light segmentations.
  #   Optional when input_anno_base already includes t4 object_ann traffic_light boxes.
  #   Can be the same as input_anno_base.
  input_semantic_anno_base: /media/jacoblambert/6c8aadd0-9332-4357-aea4-437b6aadef26/tlr/australia/
  # input_semantic_anno_base: /path/to/segmentation_annotation_or_same_as_input_anno_base
  #   Arrow direction tolerance in degrees for mapping (e.g. 90 +/- 10 => "right")
  arrow_angle_tolerance_deg: 22.49
  #   Optional dataset version subdirectory per scene UUID (e.g. <scene_uuid>/0/...).
  output_dataset_version: "0"
  #   t4dataset base
  #   in NAS /mnt/qnapdata/internal/comlops/non_annotated_t4s
  input_base: /media/jacoblambert/6c8aadd0-9332-4357-aea4-437b6aadef26/tlr/australia/
  input_bag_base:
  output_base: /media/jacoblambert/6c8aadd0-9332-4357-aea4-437b6aadef26/tlr/db_tlr_au_v1/
  topic_list: ./config/topic_list_sample.yaml
